<?xml version="1.1" encoding="UTF-8"?>
<databaseChangeLog xmlns="http://www.liquibase.org/xml/ns/dbchangelog"
                   xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
                   xsi:schemaLocation="http://www.liquibase.org/xml/ns/dbchangelog http://www.liquibase.org/xml/ns/dbchangelog/dbchangelog-latest.xsd">
    <changeSet id="Insert_row_to_user_table" author="BurdovitsinAS">
        <preConditions onFail="MARK_RAN">
            <tableExists tableName="user"/>
            <and>
                <sqlCheck expectedResult="0">SELECT count(*) FROM public.user WHERE name = 'user'</sqlCheck>
            </and>
        </preConditions>
        <sql>
            INSERT INTO public.user(name, password) VALUES ('user', '$2a$10$slYQmyNdGzTn7ZLBXBChFOC9f6kFjAqPhccnP6DxlWXx2lPk1C3G6')
        </sql>
    </changeSet>

    <changeSet id="Insert_row_to_account_table" author="BurdovitsinAS">
        <preConditions onFail="MARK_RAN">
            <tableExists tableName="account"/>
            <and>
                <sqlCheck expectedResult="0">SELECT count(*) FROM public.account WHERE user_id = 1</sqlCheck>
            </and>
        </preConditions>
        <sql>
            INSERT INTO public.account(user_id, balance) VALUES (1, 1.0)
        </sql>
    </changeSet>

    <changeSet id="Insert_row_to_email_data_table" author="BurdovitsinAS">
        <preConditions onFail="MARK_RAN">
            <tableExists tableName="email_data"/>
            <and>
                <sqlCheck expectedResult="0">SELECT count(*) FROM public.email_data WHERE user_id = 1</sqlCheck>
            </and>
        </preConditions>
        <sql>
            INSERT INTO public.email_data(user_id, email) VALUES (1, 'tst@tst.tst')
        </sql>
    </changeSet>

    <changeSet id="Insert_row_to_phone_data_table" author="BurdovitsinAS">
        <preConditions onFail="MARK_RAN">
            <tableExists tableName="phone_data"/>
            <and>
                <sqlCheck expectedResult="0">SELECT count(*) FROM public.phone_data WHERE user_id = 1</sqlCheck>
            </and>
        </preConditions>
        <sql>
            INSERT INTO public.phone_data(user_id, phone) VALUES (1, '79207865432')
        </sql>
    </changeSet>
</databaseChangeLog>